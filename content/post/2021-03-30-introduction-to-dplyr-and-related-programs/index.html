---
title: Using Packages
author: Manish Gyawali
date: '2021-03-31'
slug: introduction-to-dplyr-and-related-programs
categories:
  - data
  - dplyr
  - tidyverse
tags: []
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<p>We got started with base R. Now it’s time to introduce some packages. As explained earlier, packages add flavour to R and allow you to work much more efficiently and creatively.</p>
<p>I’ll introduce two of the most useful packages in R – <em>dplyr</em> for data management and <em>ggplot2</em> for graphics. Both of these were created by Hadley Wickham. Wickham has created or collaborated on making many other packages, and we’ll see more of those. For now, let’s just look at these two.</p>
<p>In R, if you want to access packages, you need to use the <span class="math inline">\(library()\)</span> function. Put the name of the package inside the function, like so:</p>
<pre class="r"><code>library(dplyr)
library(ggplot2)</code></pre>
<p>Did that work? If you were told that the packages do not exist, you’ll have to install them. Installing them is easy. Use the <span class="math inline">\(install.packages()\)</span> function for that. Put the name of the package within quotes, as follows:</p>
<pre class="r"><code>install.packages(&quot;dplyr&quot;)
install.packages(&quot;ggplot2&quot;)</code></pre>
<p>You can also batch install packages as follows:</p>
<pre class="r"><code>install.packages(c(&quot;dplyr&quot;,&quot;ggplot2&quot;))</code></pre>
<p>Once you have installed the packages, you can load them using the <span class="math inline">\(library()\)</span> function as shown earlier. Unfortunately, you cannot batch load packages. Packages have to be loaded individually.</p>
<p>We will first look at <strong>dplyr</strong>. This package is a comprehensive data management package and has many functions in it. You can see all the functions in it by inputing <em>dplyr::</em> at the console (the bottom section where you type commands). The functions are listed alphabetically. The first function you see is <span class="math inline">\(across()\)</span>. Functions are preceded by a diagonal blue rectangle. Scroll down the list. You will see commands that are preceded by a square white box. These are not commands, but datasets that are contained in the package. The first data set you will see is called <em>band instruments</em>. Click on it.</p>
<p>You should have printed this:</p>
<pre class="r"><code>dplyr::band_instruments </code></pre>
<p>You should have obtained this:</p>
<pre><code># A tibble: 3 x 2
  name  plays 
  &lt;chr&gt; &lt;chr&gt; 
1 John  guitar
2 Paul  bass  
3 Keith guitar</code></pre>
<p>A <em>tibble</em> is a special type of data frame that is used by dplyr and associated packages.We are done looking at this table, as it is too small to be of interest. Let’s look at another package. Scroll down the list of dplyr commands until you reach the <em>starwars</em> data set and open that in the usual way. You should obtain the following data set.</p>
<pre><code># A tibble: 87 x 14
   name    height  mass hair_color  skin_color eye_color birth_year sex   gender
   &lt;chr&gt;    &lt;int&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt;          &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; 
 1 Luke S~    172    77 blond       fair       blue            19   male  mascu~
 2 C-3PO      167    75 &lt;NA&gt;        gold       yellow         112   none  mascu~
 3 R2-D2       96    32 &lt;NA&gt;        white, bl~ red             33   none  mascu~
 4 Darth ~    202   136 none        white      yellow          41.9 male  mascu~
 5 Leia O~    150    49 brown       light      brown           19   fema~ femin~
 6 Owen L~    178   120 brown, grey light      blue            52   male  mascu~
 7 Beru W~    165    75 brown       light      blue            47   fema~ femin~
 8 R5-D4       97    32 &lt;NA&gt;        white, red red             NA   none  mascu~
 9 Biggs ~    183    84 black       light      brown           24   male  mascu~
10 Obi-Wa~    182    77 auburn, wh~ fair       blue-gray       57   male  mascu~
# ... with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,
#   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</code></pre>
<p>It is an <em>87 X 14</em> tibble. That is, there are <span class="math inline">\(87\)</span> rows and <span class="math inline">\(14\)</span> columns. Look at the table. The first two rows are unnumbered. These rows are not included in the number of rows. They are just markers. The first unnumbered row gives us the names of the columns. The row after that (in italics and enclosed by parantheses) gives us the <em>type</em> of column it is.</p>
<p>Now let’s move on to dplyr commands. The first command is called <span class="math inline">\(filter()\)</span>. Get help on this by typing, at the console the following:</p>
<pre class="r"><code>?dplyr::filter</code></pre>
<p>Actually, since you already loaded the dplyr package, you can just type</p>
<pre class="r"><code>?filter</code></pre>
<p>However, this command brings up two options to get help on. The first one is from the package <strong>dplyr</strong> and the second from the package <strong>stats</strong>. This is because there are <em>two</em> commands called <span class="math inline">\(filter()\)</span> located in two different packages. Preceding the command by the package name and a <strong>::</strong> when searching for help brings up the exact command you are looking for whereas not specifying the package will give you a list of options as is the case here.</p>
<p>You can also load (not only get information on) commands or data sets from packages that you have not loaded by doing the same thing. Type the following:</p>
<pre class="r"><code>MASS::abbey</code></pre>
<p>You will obtain this:</p>
<pre><code> [1]   5.2   6.5   6.9   7.0   7.0   7.0   7.4   8.0   8.0   8.0   8.0   8.5
[13]   9.0   9.0  10.0  11.0  11.0  12.0  12.0  13.7  14.0  14.0  14.0  16.0
[25]  17.0  17.0  18.0  24.0  28.0  34.0 125.0</code></pre>
<p>The dataset <strong>abbey</strong> is located in the <em>MASS</em> package. We have not loaded this package, and yet we can access the dataset. (Try entring only <em>abbey</em> in the console. You will get an error message that states that the object <em>‘abbey’</em> cannot be found).</p>
<p>If we have not loaded a package, we can only access commands that are in it by preceding that command by the package name and an <strong>::</strong>. Every time you need to access the command or data set, you need to do this. If you need to use the command many times then, it is better to directly load the package. If you need to use the package only once or twice, then it may be better to use the package name.</p>
